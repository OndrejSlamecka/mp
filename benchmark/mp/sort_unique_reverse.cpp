#include <algorithm>
#include <boost/mp.hpp>
#include <ranges>

template <auto v>
auto sort_unique_reverse = [] {
  auto sort = []<class... Ts>(boost::mp::concepts::meta auto types) {
      std::sort(std::begin(types), std::end(types),
                [values = std::array{Ts::value...}](auto lhs, auto rhs) { return values[lhs] < values[rhs]; });
      return types;
  };

  auto unique = []<class... Ts>(boost::mp::concepts::meta auto types) {
      types.erase(
          std::unique(std::begin(types), std::end(types),
                      [values = std::array{Ts::value...}](auto lhs, auto rhs) { return values[lhs] == values[rhs]; }),
          std::end(types));

      return types;
  };

  return v | sort | unique | std::ranges::views::reverse;
}();

static_assert(
    sort_unique_reverse<boost::mp::type_list<std::integral_constant<std::size_t, 1>, std::integral_constant<std::size_t, 2>, std::integral_constant<std::size_t, 1>>{}> ==
    boost::mp::type_list<std::integral_constant<std::size_t, 2>, std::integral_constant<std::size_t, 1>>{});

static_assert(198 == sort_unique_reverse<boost::mp::type_list<
std::integral_constant<std::size_t, 1>,
std::integral_constant<std::size_t, 2>,
std::integral_constant<std::size_t, 3>,
std::integral_constant<std::size_t, 4>,
std::integral_constant<std::size_t, 5>,
std::integral_constant<std::size_t, 6>,
std::integral_constant<std::size_t, 7>,
std::integral_constant<std::size_t, 8>,
std::integral_constant<std::size_t, 9>,
std::integral_constant<std::size_t, 10>,
std::integral_constant<std::size_t, 11>,
std::integral_constant<std::size_t, 12>,
std::integral_constant<std::size_t, 13>,
std::integral_constant<std::size_t, 14>,
std::integral_constant<std::size_t, 15>,
std::integral_constant<std::size_t, 16>,
std::integral_constant<std::size_t, 17>,
std::integral_constant<std::size_t, 18>,
std::integral_constant<std::size_t, 19>,
std::integral_constant<std::size_t, 20>,
std::integral_constant<std::size_t, 21>,
std::integral_constant<std::size_t, 22>,
std::integral_constant<std::size_t, 23>,
std::integral_constant<std::size_t, 24>,
std::integral_constant<std::size_t, 25>,
std::integral_constant<std::size_t, 26>,
std::integral_constant<std::size_t, 27>,
std::integral_constant<std::size_t, 28>,
std::integral_constant<std::size_t, 29>,
std::integral_constant<std::size_t, 30>,
std::integral_constant<std::size_t, 31>,
std::integral_constant<std::size_t, 32>,
std::integral_constant<std::size_t, 33>,
std::integral_constant<std::size_t, 34>,
std::integral_constant<std::size_t, 35>,
std::integral_constant<std::size_t, 36>,
std::integral_constant<std::size_t, 37>,
std::integral_constant<std::size_t, 38>,
std::integral_constant<std::size_t, 39>,
std::integral_constant<std::size_t, 40>,
std::integral_constant<std::size_t, 41>,
std::integral_constant<std::size_t, 42>,
std::integral_constant<std::size_t, 43>,
std::integral_constant<std::size_t, 44>,
std::integral_constant<std::size_t, 45>,
std::integral_constant<std::size_t, 46>,
std::integral_constant<std::size_t, 47>,
std::integral_constant<std::size_t, 48>,
std::integral_constant<std::size_t, 49>,
std::integral_constant<std::size_t, 50>,
std::integral_constant<std::size_t, 51>,
std::integral_constant<std::size_t, 52>,
std::integral_constant<std::size_t, 53>,
std::integral_constant<std::size_t, 54>,
std::integral_constant<std::size_t, 55>,
std::integral_constant<std::size_t, 56>,
std::integral_constant<std::size_t, 57>,
std::integral_constant<std::size_t, 58>,
std::integral_constant<std::size_t, 59>,
std::integral_constant<std::size_t, 60>,
std::integral_constant<std::size_t, 61>,
std::integral_constant<std::size_t, 62>,
std::integral_constant<std::size_t, 63>,
std::integral_constant<std::size_t, 64>,
std::integral_constant<std::size_t, 65>,
std::integral_constant<std::size_t, 66>,
std::integral_constant<std::size_t, 67>,
std::integral_constant<std::size_t, 68>,
std::integral_constant<std::size_t, 69>,
std::integral_constant<std::size_t, 70>,
std::integral_constant<std::size_t, 71>,
std::integral_constant<std::size_t, 50>,
std::integral_constant<std::size_t, 73>,
std::integral_constant<std::size_t, 74>,
std::integral_constant<std::size_t, 75>,
std::integral_constant<std::size_t, 76>,
std::integral_constant<std::size_t, 77>,
std::integral_constant<std::size_t, 78>,
std::integral_constant<std::size_t, 79>,
std::integral_constant<std::size_t, 80>,
std::integral_constant<std::size_t, 81>,
std::integral_constant<std::size_t, 82>,
std::integral_constant<std::size_t, 83>,
std::integral_constant<std::size_t, 84>,
std::integral_constant<std::size_t, 85>,
std::integral_constant<std::size_t, 86>,
std::integral_constant<std::size_t, 1>,
std::integral_constant<std::size_t, 88>,
std::integral_constant<std::size_t, 89>,
std::integral_constant<std::size_t, 90>,
std::integral_constant<std::size_t, 91>,
std::integral_constant<std::size_t, 92>,
std::integral_constant<std::size_t, 93>,
std::integral_constant<std::size_t, 94>,
std::integral_constant<std::size_t, 95>,
std::integral_constant<std::size_t, 96>,
std::integral_constant<std::size_t, 97>,
std::integral_constant<std::size_t, 98>,
std::integral_constant<std::size_t, 99>,
std::integral_constant<std::size_t, 100>,
std::integral_constant<std::size_t, 101>,
std::integral_constant<std::size_t, 102>,
std::integral_constant<std::size_t, 103>,
std::integral_constant<std::size_t, 104>,
std::integral_constant<std::size_t, 105>,
std::integral_constant<std::size_t, 106>,
std::integral_constant<std::size_t, 107>,
std::integral_constant<std::size_t, 108>,
std::integral_constant<std::size_t, 109>,
std::integral_constant<std::size_t, 110>,
std::integral_constant<std::size_t, 111>,
std::integral_constant<std::size_t, 112>,
std::integral_constant<std::size_t, 113>,
std::integral_constant<std::size_t, 114>,
std::integral_constant<std::size_t, 115>,
std::integral_constant<std::size_t, 116>,
std::integral_constant<std::size_t, 117>,
std::integral_constant<std::size_t, 118>,
std::integral_constant<std::size_t, 119>,
std::integral_constant<std::size_t, 120>,
std::integral_constant<std::size_t, 121>,
std::integral_constant<std::size_t, 122>,
std::integral_constant<std::size_t, 123>,
std::integral_constant<std::size_t, 124>,
std::integral_constant<std::size_t, 125>,
std::integral_constant<std::size_t, 126>,
std::integral_constant<std::size_t, 127>,
std::integral_constant<std::size_t, 128>,
std::integral_constant<std::size_t, 129>,
std::integral_constant<std::size_t, 130>,
std::integral_constant<std::size_t, 131>,
std::integral_constant<std::size_t, 132>,
std::integral_constant<std::size_t, 133>,
std::integral_constant<std::size_t, 134>,
std::integral_constant<std::size_t, 135>,
std::integral_constant<std::size_t, 136>,
std::integral_constant<std::size_t, 137>,
std::integral_constant<std::size_t, 138>,
std::integral_constant<std::size_t, 139>,
std::integral_constant<std::size_t, 140>,
std::integral_constant<std::size_t, 141>,
std::integral_constant<std::size_t, 142>,
std::integral_constant<std::size_t, 143>,
std::integral_constant<std::size_t, 144>,
std::integral_constant<std::size_t, 145>,
std::integral_constant<std::size_t, 146>,
std::integral_constant<std::size_t, 147>,
std::integral_constant<std::size_t, 148>,
std::integral_constant<std::size_t, 149>,
std::integral_constant<std::size_t, 150>,
std::integral_constant<std::size_t, 151>,
std::integral_constant<std::size_t, 152>,
std::integral_constant<std::size_t, 153>,
std::integral_constant<std::size_t, 154>,
std::integral_constant<std::size_t, 155>,
std::integral_constant<std::size_t, 156>,
std::integral_constant<std::size_t, 157>,
std::integral_constant<std::size_t, 158>,
std::integral_constant<std::size_t, 159>,
std::integral_constant<std::size_t, 160>,
std::integral_constant<std::size_t, 161>,
std::integral_constant<std::size_t, 162>,
std::integral_constant<std::size_t, 163>,
std::integral_constant<std::size_t, 164>,
std::integral_constant<std::size_t, 165>,
std::integral_constant<std::size_t, 166>,
std::integral_constant<std::size_t, 167>,
std::integral_constant<std::size_t, 168>,
std::integral_constant<std::size_t, 169>,
std::integral_constant<std::size_t, 170>,
std::integral_constant<std::size_t, 171>,
std::integral_constant<std::size_t, 172>,
std::integral_constant<std::size_t, 173>,
std::integral_constant<std::size_t, 174>,
std::integral_constant<std::size_t, 175>,
std::integral_constant<std::size_t, 176>,
std::integral_constant<std::size_t, 177>,
std::integral_constant<std::size_t, 178>,
std::integral_constant<std::size_t, 179>,
std::integral_constant<std::size_t, 180>,
std::integral_constant<std::size_t, 181>,
std::integral_constant<std::size_t, 182>,
std::integral_constant<std::size_t, 183>,
std::integral_constant<std::size_t, 184>,
std::integral_constant<std::size_t, 185>,
std::integral_constant<std::size_t, 186>,
std::integral_constant<std::size_t, 187>,
std::integral_constant<std::size_t, 188>,
std::integral_constant<std::size_t, 189>,
std::integral_constant<std::size_t, 190>,
std::integral_constant<std::size_t, 191>,
std::integral_constant<std::size_t, 192>,
std::integral_constant<std::size_t, 193>,
std::integral_constant<std::size_t, 194>,
std::integral_constant<std::size_t, 195>,
std::integral_constant<std::size_t, 196>,
std::integral_constant<std::size_t, 197>,
std::integral_constant<std::size_t, 198>,
std::integral_constant<std::size_t, 199>,
std::integral_constant<std::size_t, 200>
  >{}>.size);
